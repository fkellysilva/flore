{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/middleware.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport acceptLanguage from \"accept-language\";\nimport { fallbackLng, languages, cookieName } from \"./app/i18n/settings\";\n\nacceptLanguage.languages(languages);\n\nexport const config = {\n  // matcher: '/:lng*'\n  matcher: [\n    \"/((?!api|_next/static|_next/image|assets|favicon.ico|sw.js|site.webmanifest).*)\",\n  ],\n};\n\nexport function middleware(req) {\n  let lng;\n  if (req.cookies.has(cookieName))\n    lng = acceptLanguage.get(req.cookies.get(cookieName).value);\n  if (!lng) lng = acceptLanguage.get(req.headers.get(\"Accept-Language\"));\n  if (!lng) lng = fallbackLng;\n\n  // Redirect if lng in path is not supported\n  if (\n    !languages.some((loc) => req.nextUrl.pathname.startsWith(`/${loc}`)) &&\n    !req.nextUrl.pathname.startsWith(\"/_next\")\n  ) {\n    return NextResponse.redirect(\n      new URL(`/${lng}${req.nextUrl.pathname}`, req.url)\n    );\n  }\n\n  if (req.headers.has(\"referer\")) {\n    const refererUrl = new URL(req.headers.get(\"referer\"));\n    const lngInReferer = languages.find((l) =>\n      refererUrl.pathname.startsWith(`/${l}`)\n    );\n    const response = NextResponse.next();\n    if (lngInReferer) response.cookies.set(cookieName, lngInReferer);\n    return response;\n  }\n\n  return NextResponse.next();\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAFA;;;;AAIA,uKAAA,CAAA,UAAc,CAAC,SAAS,CAAC,8HAAA,CAAA,YAAS;AAE3B,MAAM,SAAS;IACpB,oBAAoB;IACpB,SAAS;QACP;KACD;AACH;AAEO,SAAS,WAAW,GAAG;IAC5B,IAAI;IACJ,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,8HAAA,CAAA,aAAU,GAC5B,MAAM,uKAAA,CAAA,UAAc,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,8HAAA,CAAA,aAAU,EAAE,KAAK;IAC5D,IAAI,CAAC,KAAK,MAAM,uKAAA,CAAA,UAAc,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC;IACnD,IAAI,CAAC,KAAK,MAAM,8HAAA,CAAA,cAAW;IAE3B,2CAA2C;IAC3C,IACE,CAAC,8HAAA,CAAA,YAAS,CAAC,IAAI,CAAC,CAAC,MAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,MAClE,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,WACjC;QACA,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAC1B,IAAI,IAAI,CAAC,CAAC,EAAE,MAAM,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE,IAAI,GAAG;IAErD;IAEA,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY;QAC9B,MAAM,aAAa,IAAI,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC;QAC3C,MAAM,eAAe,8HAAA,CAAA,YAAS,CAAC,IAAI,CAAC,CAAC,IACnC,WAAW,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,GAAG;QAExC,MAAM,WAAW,qLAAA,CAAA,eAAY,CAAC,IAAI;QAClC,IAAI,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC,8HAAA,CAAA,aAAU,EAAE;QACnD,OAAO;IACT;IAEA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;AAC1B"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}